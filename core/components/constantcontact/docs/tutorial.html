<p>ConstantContact project for MyComponent extra</p>

<p>(Jump to <a href="[[~[[*id]]]]#propertiesTable">Properties Table</a>.)</p>

<h3>Installing ConstantContact</h3>

<p>
Go to System | Package Management on the main menu in the MODX Manager and click on the &quot;Download Extras&quot; button. That will take you to the
Revolution Repository (AKA Web Transport Facility). Put ConstantContact in the search box and press Enter. Click on the &quot;Download&quot; button, and once the package is downloaded,
 click on the &quot;Back to Package Manager&quot; button. That should bring you back to your Package Management grid. Click on the
&quot;Install&quot; button next to ConstantContact in the grid. The ConstantContact package should now be installed.</p>

<h3>Usage</h3>

<p>You need a Constant Contact username and password. You don't need an API key. Set the username and password in the ccProperties property
    set.</p>

<p>At the point in your code where you want to add the contact, create an array of fields for the user and invoke the OnCustomerOrder
    event.</p>

<h3>Example</h3>

<p>You want to add a user to your mailing list when he or she completes an eCommerce purchase.</p>

<p>At the point where you confirm the user's purchase, add code like this using the information you have for the user:</p>

<pre class="brush: php; toolbar: false;"><fixedpre>
$contact = array(
    /* Required */
    'OptInSource' => 'ACTION_BY_CUSTOMER',
    'Status' => 'ACTIVE',
    'ContactList' => 1,
    'Email' => $email,
    'FirstName' => $firstName,
    'LastName' => $lastName,
    /* Optional */
    'City' => $city,
    'CompanyName' => $company,
    'JobTitle' => $title,
    'StateName' => $stateName,
    'StateCode' => $stateCode,
    'CountryCode' => $countryCode,
    'CountryName' => $countryName,
    'Addr1' => $addressOne,
    'Addr2' => $addressTwo,
    'Addr3' => $addressThree,
    'PostalCode' => $postalCode,
    'SubPostalCode' => $postalSubCode,
    'HomePhone' => $homePhone,
    'WorkPhone' => $workPhone,
    );

    $modx->invokeEvent('OnCustomerOrder', $contact);
</fixedpre></pre>


The plugin checks to make sure there is no user with that email address, then adds the user. Using the class that comes with the package, it's also possible to update or remove existing users, but the plugin itself will only add them.


<a name="propertiesTable"></a>

<h3>ConstantContact Properties</h3>